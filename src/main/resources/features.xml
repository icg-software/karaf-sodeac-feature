<?xml version="1.0" encoding="UTF-8"?>
<!--
 Copyright (c) 2019, 2020 Sebastian Palarus
 All rights reserved. This program and the accompanying materials
 are made available under the terms of the Eclipse Public License v2.0
 which accompanies this distribution, and is available at
 http://www.eclipse.org/legal/epl-v20.html
 
 Contributors:
     Sebastian Palarus - initial API and implementation
-->
<features name="${project.artifactId}-${project.version}" xmlns="http://karaf.apache.org/xmlns/features/v1.3.0" 
						xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
						xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.3.0 http://karaf.apache.org/xmlns/features/v1.3.0">
						
	<repository>mvn:org.apache.activemq/artemis-features/${artemis.version}/xml/features</repository>
	<repository>mvn:io.hawt/hawtio-karaf/${hawtio.version}/xml/features</repository>
	<repository>mvn:org.apache.camel.karaf/apache-camel/${camel.version}/xml/features</repository>
	<repository>mvn:org.apache.cxf.karaf/apache-cxf/${cxf.version}/xml/features</repository>
	
	<feature name="sodeac-core" description="sodeac core libs" version="${pom.version}">
      
      <feature>scr</feature>
      <feature>jdbc</feature>
      
      <bundle>mvn:org.sodeac/org.sodeac.karaf.sftphome/1.0.0</bundle>
      <bundle>mvn:org.sodeac/org.sodeac.common/0.6.3</bundle>
      <bundle>mvn:org.sodeac/org.sodeac.streampartitioner.api/1.0.0</bundle>
      <bundle>mvn:org.sodeac/org.sodeac.streampartitioner.provider/1.0.1</bundle>
      <bundle>mvn:org.sodeac/org.sodeac.xuri/1.0.0</bundle>
      <bundle>mvn:org.sodeac/org.sodeac.multichainlist/1.0.2</bundle>
      <bundle>mvn:org.sodeac/org.sodeac.dbschema.api/1.0.0</bundle>
      <bundle>mvn:org.sodeac/org.sodeac.dbschema.provider/1.0.2</bundle>
      <bundle>mvn:org.sodeac/org.sodeac.dbschema.driver.base/1.0.0</bundle>
      <bundle>mvn:org.sodeac/org.sodeac.dbschema.driver.h2/1.0.0</bundle>
      <bundle>mvn:org.sodeac/org.sodeac.dbschema.driver.postgresql/1.0.0</bundle>
      <bundle>mvn:org.postgresql/postgresql/42.2.12</bundle>
      <bundle>mvn:com.h2database/h2/1.4.200</bundle>
      	
    </feature>
    
    <feature name="sodeac-common-bundles" description="sodeac core libs" version="${pom.version}">
    
    	<bundle>mvn:org.json/json/20190722</bundle>
      	<bundle>mvn:org.apache.commons/commons-lang3/3.10</bundle>
		<bundle>mvn:org.apache.commons/commons-csv/1.8</bundle>
		<bundle>mvn:commons-io/commons-io/2.6</bundle>
		<bundle>mvn:commons-dbutils/commons-dbutils/1.7</bundle>
		<bundle>mvn:org.apache.commons/commons-compress/1.20</bundle>
		<bundle>mvn:commons-codec/commons-codec/1.14</bundle>
		<bundle>mvn:commons-net/commons-net/3.6</bundle>
		<bundle>mvn:org.apache.commons/commons-math3/3.6.1</bundle>
		<bundle>mvn:org.apache.commons/commons-collections4/4.4</bundle>
		<bundle>mvn:commons-collections/commons-collections/3.2.2</bundle>
		<bundle>mvn:commons-beanutils/commons-beanutils/1.9.4</bundle>
		<bundle>mvn:commons-logging/commons-logging/1.2</bundle>
		<bundle>mvn:org.apache.commons/commons-pool2/2.8.0</bundle>
		<bundle>mvn:org.apache.commons/commons-jexl3/3.1</bundle>
		<bundle>mvn:org.apache.commons/commons-vfs2/2.6.0</bundle>
		<bundle>mvn:eu.agno3.jcifs/jcifs-ng/2.1.4</bundle>
		<bundle>wrap:mvn:net.idauto.oss.jcifs/vfs-jcifs-ng/1.0.1$Bundle-SymbolicName=net.idauto.oss.jcifs-ng&amp;Bundle-Version=1.0.1</bundle>
		<bundle>mvn:io.dropwizard.metrics/metrics-core/4.0.7</bundle>
		<bundle>mvn:com.google.guava/guava/29.0-jre</bundle>
		<bundle>mvn:com.google.guava/failureaccess/1.0.1</bundle>
		<bundle>mvn:com.googlecode.json-simple/json-simple/1.1.1</bundle>
		<bundle>mvn:com.google.code.gson/gson/2.8.5</bundle> 		<!-- versions > 2.8.5 requires Java 9 !!! -->
		<bundle>mvn:org.bouncycastle/bcprov-jdk15on/1.65</bundle>
		<bundle>mvn:org.bouncycastle/bcpg-jdk15on/1.65</bundle>
		<bundle>mvn:org.glassfish/jakarta.json/1.1.6</bundle>
		<bundle>mvn:io.jsonwebtoken/jjwt-api/0.11.1</bundle>
		<bundle>mvn:io.jsonwebtoken/jjwt-impl/0.11.1</bundle>
		<bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.dom4j/2.1.1_1</bundle>
		<bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.dom4j/1.6.1_5</bundle>
		<bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.antlr/2.7.7_5</bundle>
		<bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xpp3/1.1.4c_7</bundle>
		<bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.quartz/2.3.1_1</bundle>
		<bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jaxb-impl/2.2.11_1</bundle>
		<bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.jaxws-api-2.2/2.9.0</bundle>
		<bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.saaj-api-1.3/2.9.0</bundle>
		
		<bundle>mvn:org.antlr/antlr4-runtime/4.8-1</bundle>
		<bundle>mvn:org.mybatis/mybatis/3.5.4</bundle>
		<bundle>mvn:org.freemarker/freemarker/2.3.30</bundle>
		<bundle>mvn:com.fasterxml.uuid/java-uuid-generator/3.3.0</bundle>
		
    </feature>
    
    <feature name="sodeac-cxf" description="cxf for sdc" version="${pom.version}">
    	
    	<!-- cxf feature without corba -->
        
        <feature version="${cxf.version}">cxf-core</feature>
    	<feature version="${cxf.version}">cxf-jaxws</feature>
    	<feature version="${cxf.version}">cxf-jaxrs</feature>
    	<feature version="${cxf.version}">cxf-databinding-jaxb</feature>
    	<feature version="${cxf.version}">cxf-databinding-aegis</feature>
    	<feature version="${cxf.version}">cxf-bindings-coloc</feature>
    	<feature version="${cxf.version}">cxf-http-provider</feature>
    	<feature version="${cxf.version}">cxf-transports-local</feature>
    	<feature version="${cxf.version}">cxf-transports-jms</feature>
    	<feature version="${cxf.version}">cxf-transports-udp</feature>
    	<feature version="${cxf.version}">cxf-xjc-runtime</feature>
    	<feature version="${cxf.version}">cxf-ws-security</feature>
    	<feature version="${cxf.version}">cxf-rs-security-oauth2</feature>
    	<feature version="${cxf.version}">cxf-ws-rm</feature>
    	<feature version="${cxf.version}">cxf-ws-mex</feature>
    	<feature version="${cxf.version}">cxf-javascript</feature>
    	<feature version="${cxf.version}">cxf-frontend-javascript</feature>
    	<feature version="${cxf.version}">cxf-features-clustering</feature>
    	<feature version="${cxf.version}">cxf-features-metrics</feature>
    	<feature version="${cxf.version}">cxf-features-throttling</feature>
    	<feature version="${cxf.version}">cxf-features-logging</feature>
    	
    	<bundle>mvn:org.apache.cxf/cxf-rt-rs-security-sso-oidc/${cxf.version}</bundle>
    	<bundle>mvn:org.apache.cxf.karaf/cxf-karaf-commands/${cxf.version}</bundle>
		
    </feature>
    
    <feature name="sodeac-karaf-basics" description="karaf basics for sodeac distribution" version="${karaf.version}">
		
		<details>karaf basic features</details>

		<feature>standard</feature>
		<feature>scr</feature>
		<feature>http</feature>
		<feature>webconsole</feature>
		<feature>http-whiteboard</feature>
		<feature>jasypt-encryption</feature>
		<feature>jdbc</feature>
		<feature>transaction</feature>
		<feature>jndi</feature>
		<feature>pax-jdbc</feature>
		<feature>pax-jdbc-config</feature>
		<feature>pax-jdbc-pool-dbcp2</feature>
		<feature>pax-jdbc-spec</feature>
		<feature>jms</feature>
		<feature>pax-jms-pool</feature>
		<feature>pax-jms-config</feature>
		<feature>aries-blueprint</feature>
		<feature>scheduler</feature>
		<feature>openjpa3</feature>
		<feature>service-wrapper</feature>
		
    </feature>
    
    <feature name="sodeac-camel-basics" description="camel basics for sodeac distribution" version="${karaf.version}">
        
        <feature>sodeac-cxf</feature>
        
		<bundle>mvn:org.codehaus.groovy/groovy-jsr223/${groovy.version}</bundle>
		<bundle>mvn:org.codehaus.groovy/groovy-json/${groovy.version}</bundle>
		<bundle>mvn:org.codehaus.groovy/groovy-xml/${groovy.version}</bundle>
		<bundle>mvn:org.codehaus.groovy/groovy-datetime/${groovy.version}</bundle>
		<bundle>mvn:org.codehaus.groovy/groovy-nio/${groovy.version}</bundle>
		<bundle>mvn:org.codehaus.groovy/groovy-dateutil/${groovy.version}</bundle>
		<bundle>mvn:org.codehaus.groovy/groovy-sql/${groovy.version}</bundle>
		<bundle>mvn:org.codehaus.groovy/groovy/${groovy.version}</bundle>
		
		<feature>camel</feature>
		<feature>camel-groovy</feature>
		<feature>camel-jasypt</feature>
		<feature>camel-crypto</feature>
		<feature>camel-zipfile</feature>
		<feature>camel-xmlsecurity</feature>
		<feature>camel-chunk</feature>
		<feature>camel-jms</feature>
		<feature>camel-spring</feature>
		<feature>camel-blueprint</feature>
		<feature>camel-stream</feature>
		<feature>camel-quartz2</feature>
		<feature>camel-ftp</feature>
		<feature>camel-jsch</feature>
		<feature>camel-ssh</feature>
		<feature>camel-netty4</feature>
		<feature>camel-netty4-http</feature>
		<feature>camel-mail</feature>
		<feature>camel-http4</feature>
		<feature>camel-cxf</feature>
		<feature>camel-servlet</feature>
		<feature>camel-eventadmin</feature>
		<feature>camel-csv</feature>
		<feature>camel-jaxb</feature>
		<feature>camel-saxon</feature>
		<feature>camel-soap</feature>
		<feature>camel-stax</feature>
		<feature>camel-jpa</feature>
		<feature>camel-hystrix</feature>
		<feature>camel-reactive-streams</feature>
		<feature>camel-jdbc</feature>
		<feature>camel-sql</feature>
		
		<bundle>mvn:io.reactivex.rxjava2/rxjava/2.2.19</bundle>
		<bundle>mvn:org.apache.camel/camel-rxjava2/${camel.version}</bundle>
		
    </feature>
    
    <feature name="sodeac-distribution" description="sodeac distribution" version="${pom.version}">
    	<feature>sodeac-karaf-basics</feature>
		<feature>sodeac-common-bundles</feature>
		<feature>sodeac-core</feature>
		<feature>sodeac-cxf</feature>
		<feature>hawtio</feature>
		<feature>artemis-core-client</feature>
		<feature>artemis-jms-client</feature>
		<feature>artemis</feature>
		<feature>sodeac-camel-basics</feature>
		<feature>pax-jms-artemis</feature>
        
		<configfile finalname="etc/org.apache.activemq.artemis.cfg">mvn:org.sodeac/org.sodeac.karaf.feature/${pom.version}/cfg</configfile>
		<configfile finalname="etc/artemis-sodeac-local.xml">mvn:org.sodeac/org.sodeac.karaf.feature/${pom.version}/xml/artemis-sodeac-local</configfile>

    </feature>

</features>